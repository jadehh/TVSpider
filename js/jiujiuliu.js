/*
* @File     : jiujiuliu.js
* @Author   : jade
* @Date     : 2024/1/4 14:15
* @Email    : jadehh@1ive.com
* @Software : Samples
* @Desc     : 996ÂΩ±ËßÜ
*/

import {Spider} from "./spider.js";
import {_, Crypto, load} from "../lib/cat.js";
import {VodDetail, VodShort} from "../lib/vod.js";
import * as Utils from "../lib/utils.js";

class JiuJiuLiuSpider extends Spider {
    constructor() {
        super();
        this.siteUrl = "https://www.cs1369.com"
    }

    getAppName() {
        return "üç•‚îÉ‰πù‰πùÂÖ≠ÂΩ±ËßÜ‚îÉüç•"
    }

    getName() {
        return "‰πù‰πùÂÖ≠ÂΩ±ËßÜ"
    }

    async parseVodShortListFromDoc($) {
        let vod_list = []
        let vodElements = $("[class=\"stui-vodlist clearfix\"]").find("li")
        for (const vodElement of vodElements) {
            let resource = $(vodElement).find("[class=\"stui-vodlist__thumb lazyload\"]")[0]
            let vodShort = new VodShort()
            vodShort.vod_id = resource.attribs["href"]
            vodShort.vod_name = resource.attribs["title"]
            vodShort.vod_pic = resource.attribs["data-original"]
            vodShort.vod_remarks = $($(resource).find("[class=\"pic-text text-right\"]")[0]).text()
            vod_list.push(vodShort)
        }
        return vod_list
    }

    async parseVodPlayFromUrl(play_url) {
        let html = await this.fetch(play_url, null, this.getHeader())
        if (html !== null) {
            let $ = load(html)
        }

    }

    async parseVodDetailFromDoc($) {
        let vodDetail = new VodDetail()
        let vodElement = $("[class=\"col-pd clearfix\"]")[1]
        let vodShortElement = $(vodElement).find("[class=\"stui-content__thumb\"]")[0]
        let vodItems = []
        for (const playElement of $("[class=\"stui-content__playlist clearfix\"]").find("a")) {
            let episodeUrl = this.siteUrl + playElement.attribs["href"];
            let episodeName = $(playElement).text();
            vodItems.push(episodeName + "$" + episodeUrl);
        }
        vodDetail.vod_name = $(vodShortElement).find("[class=\"stui-vodlist__thumb picture v-thumb\"]")[0].attribs["title"]
        vodDetail.vod_pic = $(vodShortElement).find("img")[0].attribs["data-original"]
        vodDetail.vod_remarks = $($(vodShortElement).find("[class=\"pic-text text-right\"]")[0]).text()
        let data_str = $($(vodElement).find("[class=\"data\"]")).text().replaceAll("¬†", " ")
        vodDetail.type_name = Utils.getStrByRegex(/Á±ªÂûãÔºö(.*?) /, data_str)
        vodDetail.vod_area = Utils.getStrByRegex(/Âú∞Âå∫Ôºö(.*?) /, data_str)
        vodDetail.vod_year = Utils.getStrByRegex(/Âπ¥‰ªΩÔºö(.*?) /, data_str)
        vodDetail.vod_actor = Utils.getStrByRegex(/‰∏ªÊºîÔºö(.*?) /, data_str)
        vodDetail.vod_director = Utils.getStrByRegex(/ÂØºÊºîÔºö(.*?) /, data_str)
        vodDetail.vod_content = $($("[class=\"stui-pannel_bd\"]").find("[class=\"col-pd\"]")).text()
        vodDetail.vod_play_from = ["996"].join("$$$")
        vodDetail.vod_play_url = [vodItems.join("#")].join("$$$")
        return vodDetail
    }

    async setClasses() {
        let html = await this.fetch(this.siteUrl, null, this.getHeader())
        if (html !== null) {
            let $ = load(html)
            let menuElements = $("[class=\"stui-header__menu type-slide\"]").find("a")
            for (const menuElement of menuElements) {
                let type_dic = {
                    "type_name": $(menuElement).text(),
                    "type_id": menuElement.attribs["href"]
                }
                this.classes.push(type_dic)
            }
        }

    }

    async setHome(filter) {
        // await this.setClasses()
        this.classes = [
            {
                "type_name": "È¶ñÈ°µ",
                "type_id": "/"
            },
            {
                "type_name": "ÁîµÂΩ±",
                "type_id": "/show/id/1"
            },
            {
                "type_name": "ÁîµËßÜÂâß",
                "type_id": "/show/id/2"
            },
            {
                "type_name": "Âä®Êº´",
                "type_id": "/show/id/3"
            },
            {
                "type_name": "ÁàΩÊñáÁü≠Ââß",
                "type_id": "/show/id/4"
            }
        ];
        this.filterObj = {
    "/show/id/1": [
        {
            "key": "1",
            "name": "ÊåâÁ±ªÂûã",
            "value": [
                {
                    "n": "ÂÖ®ÈÉ®",
                    "v": "1"
                },
                {
                    "n": "Âä®‰ΩúÁâá",
                    "v": "6"
                },
                {
                    "n": "ÂñúÂâßÁâá",
                    "v": "7"
                },
                {
                    "n": "Áà±ÊÉÖÁâá",
                    "v": "8"
                },
                {
                    "n": "ÁßëÂπªÁâá",
                    "v": "9"
                },
                {
                    "n": "ÊÅêÊÄñÁâá",
                    "v": "10"
                },
                {
                    "n": "ÂâßÊÉÖÁâá",
                    "v": "11"
                },
                {
                    "n": "Êàò‰∫âÁâá",
                    "v": "12"
                },
                {
                    "n": "Âä®ÁîªÁâá",
                    "v": "13"
                },
                {
                    "n": "Á∫™ÂΩïÁâá",
                    "v": "14"
                }
            ]
        },
        {
            "key": "2",
            "name": "ÊåâÂâßÊÉÖ",
            "value": [
                {
                    "n": "ÂÖ®ÈÉ®",
                    "v": "ÂÖ®ÈÉ®"
                },
                {
                    "n": "ÂñúÂâß",
                    "v": "ÂñúÂâß"
                },
                {
                    "n": "Áà±ÊÉÖ",
                    "v": "Áà±ÊÉÖ"
                },
                {
                    "n": "ÊÅêÊÄñ",
                    "v": "ÊÅêÊÄñ"
                },
                {
                    "n": "Âä®‰Ωú",
                    "v": "Âä®‰Ωú"
                },
                {
                    "n": "ÁßëÂπª",
                    "v": "ÁßëÂπª"
                },
                {
                    "n": "ÂâßÊÉÖ",
                    "v": "ÂâßÊÉÖ"
                },
                {
                    "n": "Êàò‰∫â",
                    "v": "Êàò‰∫â"
                },
                {
                    "n": "Ë≠¶Âå™",
                    "v": "Ë≠¶Âå™"
                },
                {
                    "n": "ÁäØÁΩ™",
                    "v": "ÁäØÁΩ™"
                },
                {
                    "n": "Âä®Áîª",
                    "v": "Âä®Áîª"
                },
                {
                    "n": "Â•áÂπª",
                    "v": "Â•áÂπª"
                },
                {
                    "n": "Ê≠¶‰æ†",
                    "v": "Ê≠¶‰æ†"
                },
                {
                    "n": "ÂÜíÈô©",
                    "v": "ÂÜíÈô©"
                },
                {
                    "n": "Êû™Êàò",
                    "v": "Êû™Êàò"
                },
                {
                    "n": "ÊÇ¨Áñë",
                    "v": "ÊÇ¨Áñë"
                },
                {
                    "n": "ÊÉäÊÇö",
                    "v": "ÊÉäÊÇö"
                },
                {
                    "n": "ÁªèÂÖ∏",
                    "v": "ÁªèÂÖ∏"
                },
                {
                    "n": "ÈùíÊò•",
                    "v": "ÈùíÊò•"
                },
                {
                    "n": "ÊñáËâ∫",
                    "v": "ÊñáËâ∫"
                },
                {
                    "n": "ÂæÆÁîµÂΩ±",
                    "v": "ÂæÆÁîµÂΩ±"
                },
                {
                    "n": "Âè§Ë£Ö",
                    "v": "Âè§Ë£Ö"
                },
                {
                    "n": "ÂéÜÂè≤",
                    "v": "ÂéÜÂè≤"
                },
                {
                    "n": "ËøêÂä®",
                    "v": "ËøêÂä®"
                },
                {
                    "n": "ÂÜúÊùë",
                    "v": "ÂÜúÊùë"
                },
                {
                    "n": "ÂÑøÁ´•",
                    "v": "ÂÑøÁ´•"
                },
                {
                    "n": "ÁΩëÁªúÁîµÂΩ±",
                    "v": "ÁΩëÁªúÁîµÂΩ±"
                }
            ]
        },
        {
            "key": "3",
            "name": "ÊåâÂú∞Âå∫",
            "value": [
                {
                    "n": "ÂÖ®ÈÉ®",
                    "v": "ÂÖ®ÈÉ®"
                },
                {
                    "n": "‰∏≠ÂõΩÂ§ßÈôÜ",
                    "v": "‰∏≠ÂõΩÂ§ßÈôÜ"
                },
                {
                    "n": "‰∏≠ÂõΩÈ¶ôÊ∏Ø",
                    "v": "‰∏≠ÂõΩÈ¶ôÊ∏Ø"
                },
                {
                    "n": "‰∏≠ÂõΩÂè∞Êπæ",
                    "v": "‰∏≠ÂõΩÂè∞Êπæ"
                },
                {
                    "n": "ÁæéÂõΩ",
                    "v": "ÁæéÂõΩ"
                },
                {
                    "n": "Èü©ÂõΩ",
                    "v": "Èü©ÂõΩ"
                },
                {
                    "n": "Êó•Êú¨",
                    "v": "Êó•Êú¨"
                },
                {
                    "n": "Ê≥∞ÂõΩ",
                    "v": "Ê≥∞ÂõΩ"
                },
                {
                    "n": "Êñ∞Âä†Âù°",
                    "v": "Êñ∞Âä†Âù°"
                },
                {
                    "n": "È©¨Êù•Ë•ø‰∫ö",
                    "v": "È©¨Êù•Ë•ø‰∫ö"
                },
                {
                    "n": "Âç∞Â∫¶",
                    "v": "Âç∞Â∫¶"
                },
                {
                    "n": "Ëã±ÂõΩ",
                    "v": "Ëã±ÂõΩ"
                },
                {
                    "n": "Ê≥ïÂõΩ",
                    "v": "Ê≥ïÂõΩ"
                },
                {
                    "n": "Âä†ÊãøÂ§ß",
                    "v": "Âä†ÊãøÂ§ß"
                },
                {
                    "n": "Ë•øÁè≠Áâô",
                    "v": "Ë•øÁè≠Áâô"
                },
                {
                    "n": "‰øÑÁΩóÊñØ",
                    "v": "‰øÑÁΩóÊñØ"
                },
                {
                    "n": "ÂÖ∂ÂÆÉ",
                    "v": "ÂÖ∂ÂÆÉ"
                }
            ]
        },
        {
            "key": "4",
            "name": "ÊåâÂπ¥‰ªΩ",
            "value": [
                {
                    "n": "ÂÖ®ÈÉ®",
                    "v": "ÂÖ®ÈÉ®"
                },
                {
                    "n": "2024",
                    "v": "2024"
                },
                {
                    "n": "2023",
                    "v": "2023"
                },
                {
                    "n": "2022",
                    "v": "2022"
                },
                {
                    "n": "2021",
                    "v": "2021"
                },
                {
                    "n": "2020",
                    "v": "2020"
                },
                {
                    "n": "2019",
                    "v": "2019"
                },
                {
                    "n": "2018",
                    "v": "2018"
                },
                {
                    "n": "2017",
                    "v": "2017"
                },
                {
                    "n": "2016",
                    "v": "2016"
                },
                {
                    "n": "2015",
                    "v": "2015"
                },
                {
                    "n": "2014",
                    "v": "2014"
                },
                {
                    "n": "2013",
                    "v": "2013"
                },
                {
                    "n": "2012",
                    "v": "2012"
                },
                {
                    "n": "2011",
                    "v": "2011"
                },
                {
                    "n": "2010",
                    "v": "2010"
                },
                {
                    "n": "2009",
                    "v": "2009"
                },
                {
                    "n": "2008",
                    "v": "2008"
                },
                {
                    "n": "2007",
                    "v": "2007"
                },
                {
                    "n": "2006",
                    "v": "2006"
                },
                {
                    "n": "2005",
                    "v": "2005"
                },
                {
                    "n": "2004",
                    "v": "2004"
                },
                {
                    "n": "2003",
                    "v": "2003"
                },
                {
                    "n": "2002",
                    "v": "2002"
                },
                {
                    "n": "2001",
                    "v": "2001"
                },
                {
                    "n": "2000",
                    "v": "2000"
                },
                {
                    "n": "1999",
                    "v": "1999"
                },
                {
                    "n": "1998",
                    "v": "1998"
                },
                {
                    "n": "1997",
                    "v": "1997"
                },
                {
                    "n": "1996",
                    "v": "1996"
                },
                {
                    "n": "1995",
                    "v": "1995"
                },
                {
                    "n": "1994",
                    "v": "1994"
                },
                {
                    "n": "1993",
                    "v": "1993"
                },
                {
                    "n": "1992",
                    "v": "1992"
                },
                {
                    "n": "1991",
                    "v": "1991"
                },
                {
                    "n": "1990",
                    "v": "1990"
                }
            ]
        },
        {
            "key": "5",
            "name": "ÊåâËØ≠Ë®Ä",
            "value": [
                {
                    "n": "ÂÖ®ÈÉ®",
                    "v": "ÂÖ®ÈÉ®"
                },
                {
                    "n": "Ê±âËØ≠ÊôÆÈÄöËØù",
                    "v": "Ê±âËØ≠ÊôÆÈÄöËØù"
                },
                {
                    "n": "Ëã±ËØ≠",
                    "v": "Ëã±ËØ≠"
                },
                {
                    "n": "Á≤§ËØ≠",
                    "v": "Á≤§ËØ≠"
                },
                {
                    "n": "ÈóΩÂçóËØ≠",
                    "v": "ÈóΩÂçóËØ≠"
                },
                {
                    "n": "Èü©ËØ≠",
                    "v": "Èü©ËØ≠"
                },
                {
                    "n": "Êó•ËØ≠",
                    "v": "Êó•ËØ≠"
                },
                {
                    "n": "Ê≥ïËØ≠",
                    "v": "Ê≥ïËØ≠"
                },
                {
                    "n": "Âæ∑ËØ≠",
                    "v": "Âæ∑ËØ≠"
                },
                {
                    "n": "ÂÖ∂ÂÆÉ",
                    "v": "ÂÖ∂ÂÆÉ"
                }
            ]
        },
        {
            "key": "6",
            "name": "ÊåâÂ≠óÊØç",
            "value": [
                {
                    "n": "ÂÖ®ÈÉ®",
                    "v": "ÂÖ®ÈÉ®"
                },
                {
                    "n": "A",
                    "v": "A"
                },
                {
                    "n": "B",
                    "v": "B"
                },
                {
                    "n": "C",
                    "v": "C"
                },
                {
                    "n": "D",
                    "v": "D"
                },
                {
                    "n": "E",
                    "v": "E"
                },
                {
                    "n": "F",
                    "v": "F"
                },
                {
                    "n": "G",
                    "v": "G"
                },
                {
                    "n": "H",
                    "v": "H"
                },
                {
                    "n": "I",
                    "v": "I"
                },
                {
                    "n": "J",
                    "v": "J"
                },
                {
                    "n": "K",
                    "v": "K"
                },
                {
                    "n": "L",
                    "v": "L"
                },
                {
                    "n": "M",
                    "v": "M"
                },
                {
                    "n": "N",
                    "v": "N"
                },
                {
                    "n": "O",
                    "v": "O"
                },
                {
                    "n": "P",
                    "v": "P"
                },
                {
                    "n": "Q",
                    "v": "Q"
                },
                {
                    "n": "R",
                    "v": "R"
                },
                {
                    "n": "S",
                    "v": "S"
                },
                {
                    "n": "T",
                    "v": "T"
                },
                {
                    "n": "U",
                    "v": "U"
                },
                {
                    "n": "V",
                    "v": "V"
                },
                {
                    "n": "W",
                    "v": "W"
                },
                {
                    "n": "X",
                    "v": "X"
                },
                {
                    "n": "Y",
                    "v": "Y"
                },
                {
                    "n": "Z",
                    "v": "Z"
                },
                {
                    "n": "0-9",
                    "v": "0-9"
                }
            ]
        },
        {
            "key": "7",
            "name": "ÊåâÊó∂Èó¥",
            "value": [
                {
                    "n": "ÂÖ®ÈÉ®",
                    "v": "time"
                },
                {
                    "n": "Êåâ‰∫∫Ê∞î",
                    "v": "hits"
                },
                {
                    "n": "ÊåâËØÑÂàÜ",
                    "v": "score"
                }
            ]
        }
    ],
    "/show/id/2": [
        {
            "key": "1",
            "name": "ÊåâÁ±ªÂûã",
            "value": [
                {
                    "n": "ÂÖ®ÈÉ®",
                    "v": "2"
                },
                {
                    "n": "ÂÜÖÂú∞",
                    "v": "15"
                },
                {
                    "n": "ÁæéÂõΩ",
                    "v": "16"
                },
                {
                    "n": "Ëã±ÂõΩ",
                    "v": "17"
                },
                {
                    "n": "Èü©ÂõΩ",
                    "v": "18"
                },
                {
                    "n": "Ê≥∞ÂõΩ",
                    "v": "20"
                },
                {
                    "n": "Êó•Êú¨",
                    "v": "21"
                },
                {
                    "n": "‰∏≠ÂõΩÈ¶ôÊ∏Ø",
                    "v": "22"
                },
                {
                    "n": "‰∏≠ÂõΩÂè∞Êπæ",
                    "v": "23"
                },
                {
                    "n": "ÂÖ∂‰ªñ",
                    "v": "24"
                }
            ]
        },
        {
            "key": "2",
            "name": "ÊåâÂâßÊÉÖ",
            "value": [
                {
                    "n": "ÂÖ®ÈÉ®",
                    "v": "ÂÖ®ÈÉ®"
                },
                {
                    "n": "Âè§Ë£Ö",
                    "v": "Âè§Ë£Ö"
                },
                {
                    "n": "Êàò‰∫â",
                    "v": "Êàò‰∫â"
                },
                {
                    "n": "ÈùíÊò•ÂÅ∂ÂÉè",
                    "v": "ÈùíÊò•ÂÅ∂ÂÉè"
                },
                {
                    "n": "ÂñúÂâß",
                    "v": "ÂñúÂâß"
                },
                {
                    "n": "ÂÆ∂Â∫≠",
                    "v": "ÂÆ∂Â∫≠"
                },
                {
                    "n": "ÁäØÁΩ™",
                    "v": "ÁäØÁΩ™"
                },
                {
                    "n": "Âä®‰Ωú",
                    "v": "Âä®‰Ωú"
                },
                {
                    "n": "Â•áÂπª",
                    "v": "Â•áÂπª"
                },
                {
                    "n": "ÂâßÊÉÖ",
                    "v": "ÂâßÊÉÖ"
                },
                {
                    "n": "ÂéÜÂè≤",
                    "v": "ÂéÜÂè≤"
                },
                {
                    "n": "ÁªèÂÖ∏",
                    "v": "ÁªèÂÖ∏"
                },
                {
                    "n": "‰π°Êùë",
                    "v": "‰π°Êùë"
                },
                {
                    "n": "ÊÉÖÊôØ",
                    "v": "ÊÉÖÊôØ"
                },
                {
                    "n": "ÂïÜÊàò",
                    "v": "ÂïÜÊàò"
                },
                {
                    "n": "ÁΩëÂâß",
                    "v": "ÁΩëÂâß"
                },
                {
                    "n": "ÂÖ∂‰ªñ",
                    "v": "ÂÖ∂‰ªñ"
                }
            ]
        },
        {
            "key": "3",
            "name": "ÊåâÂú∞Âå∫",
            "value": [
                {
                    "n": "ÂÖ®ÈÉ®",
                    "v": "ÂÖ®ÈÉ®"
                },
                {
                    "n": "‰∏≠ÂõΩÂ§ßÈôÜ",
                    "v": "‰∏≠ÂõΩÂ§ßÈôÜ"
                },
                {
                    "n": "‰∏≠ÂõΩÈ¶ôÊ∏Ø",
                    "v": "‰∏≠ÂõΩÈ¶ôÊ∏Ø"
                },
                {
                    "n": "‰∏≠ÂõΩÂè∞Êπæ",
                    "v": "‰∏≠ÂõΩÂè∞Êπæ"
                },
                {
                    "n": "ÁæéÂõΩ",
                    "v": "ÁæéÂõΩ"
                },
                {
                    "n": "Èü©ÂõΩ",
                    "v": "Èü©ÂõΩ"
                },
                {
                    "n": "Êó•Êú¨",
                    "v": "Êó•Êú¨"
                },
                {
                    "n": "Ê≥∞ÂõΩ",
                    "v": "Ê≥∞ÂõΩ"
                },
                {
                    "n": "Êñ∞Âä†Âù°",
                    "v": "Êñ∞Âä†Âù°"
                },
                {
                    "n": "È©¨Êù•Ë•ø‰∫ö",
                    "v": "È©¨Êù•Ë•ø‰∫ö"
                },
                {
                    "n": "Âç∞Â∫¶",
                    "v": "Âç∞Â∫¶"
                },
                {
                    "n": "Ëã±ÂõΩ",
                    "v": "Ëã±ÂõΩ"
                },
                {
                    "n": "Ê≥ïÂõΩ",
                    "v": "Ê≥ïÂõΩ"
                },
                {
                    "n": "Âä†ÊãøÂ§ß",
                    "v": "Âä†ÊãøÂ§ß"
                },
                {
                    "n": "Ë•øÁè≠Áâô",
                    "v": "Ë•øÁè≠Áâô"
                },
                {
                    "n": "‰øÑÁΩóÊñØ",
                    "v": "‰øÑÁΩóÊñØ"
                },
                {
                    "n": "ÂÖ∂ÂÆÉ",
                    "v": "ÂÖ∂ÂÆÉ"
                }
            ]
        },
        {
            "key": "4",
            "name": "ÊåâÂπ¥‰ªΩ",
            "value": [
                {
                    "n": "ÂÖ®ÈÉ®",
                    "v": "ÂÖ®ÈÉ®"
                },
                {
                    "n": "2024",
                    "v": "2024"
                },
                {
                    "n": "2023",
                    "v": "2023"
                },
                {
                    "n": "2022",
                    "v": "2022"
                },
                {
                    "n": "2021",
                    "v": "2021"
                },
                {
                    "n": "2020",
                    "v": "2020"
                },
                {
                    "n": "2019",
                    "v": "2019"
                },
                {
                    "n": "2018",
                    "v": "2018"
                },
                {
                    "n": "2017",
                    "v": "2017"
                },
                {
                    "n": "2016",
                    "v": "2016"
                },
                {
                    "n": "2015",
                    "v": "2015"
                },
                {
                    "n": "2014",
                    "v": "2014"
                },
                {
                    "n": "2013",
                    "v": "2013"
                },
                {
                    "n": "2012",
                    "v": "2012"
                },
                {
                    "n": "2011",
                    "v": "2011"
                },
                {
                    "n": "2010",
                    "v": "2010"
                },
                {
                    "n": "2009",
                    "v": "2009"
                },
                {
                    "n": "2008",
                    "v": "2008"
                },
                {
                    "n": "2007",
                    "v": "2007"
                },
                {
                    "n": "2006",
                    "v": "2006"
                },
                {
                    "n": "2005",
                    "v": "2005"
                },
                {
                    "n": "2004",
                    "v": "2004"
                },
                {
                    "n": "2003",
                    "v": "2003"
                },
                {
                    "n": "2002",
                    "v": "2002"
                },
                {
                    "n": "2001",
                    "v": "2001"
                },
                {
                    "n": "2000",
                    "v": "2000"
                },
                {
                    "n": "1999",
                    "v": "1999"
                },
                {
                    "n": "1998",
                    "v": "1998"
                },
                {
                    "n": "1997",
                    "v": "1997"
                },
                {
                    "n": "1996",
                    "v": "1996"
                },
                {
                    "n": "1995",
                    "v": "1995"
                },
                {
                    "n": "1994",
                    "v": "1994"
                },
                {
                    "n": "1993",
                    "v": "1993"
                },
                {
                    "n": "1992",
                    "v": "1992"
                },
                {
                    "n": "1991",
                    "v": "1991"
                },
                {
                    "n": "1990",
                    "v": "1990"
                }
            ]
        },
        {
            "key": "5",
            "name": "ÊåâËØ≠Ë®Ä",
            "value": [
                {
                    "n": "ÂÖ®ÈÉ®",
                    "v": "ÂÖ®ÈÉ®"
                },
                {
                    "n": "Ê±âËØ≠ÊôÆÈÄöËØù",
                    "v": "Ê±âËØ≠ÊôÆÈÄöËØù"
                },
                {
                    "n": "Ëã±ËØ≠",
                    "v": "Ëã±ËØ≠"
                },
                {
                    "n": "Á≤§ËØ≠",
                    "v": "Á≤§ËØ≠"
                },
                {
                    "n": "ÈóΩÂçóËØ≠",
                    "v": "ÈóΩÂçóËØ≠"
                },
                {
                    "n": "Èü©ËØ≠",
                    "v": "Èü©ËØ≠"
                },
                {
                    "n": "Êó•ËØ≠",
                    "v": "Êó•ËØ≠"
                },
                {
                    "n": "Ê≥ïËØ≠",
                    "v": "Ê≥ïËØ≠"
                },
                {
                    "n": "Âæ∑ËØ≠",
                    "v": "Âæ∑ËØ≠"
                },
                {
                    "n": "ÂÖ∂ÂÆÉ",
                    "v": "ÂÖ∂ÂÆÉ"
                }
            ]
        },
        {
            "key": "6",
            "name": "ÊåâÂ≠óÊØç",
            "value": [
                {
                    "n": "ÂÖ®ÈÉ®",
                    "v": "ÂÖ®ÈÉ®"
                },
                {
                    "n": "A",
                    "v": "A"
                },
                {
                    "n": "B",
                    "v": "B"
                },
                {
                    "n": "C",
                    "v": "C"
                },
                {
                    "n": "D",
                    "v": "D"
                },
                {
                    "n": "E",
                    "v": "E"
                },
                {
                    "n": "F",
                    "v": "F"
                },
                {
                    "n": "G",
                    "v": "G"
                },
                {
                    "n": "H",
                    "v": "H"
                },
                {
                    "n": "I",
                    "v": "I"
                },
                {
                    "n": "J",
                    "v": "J"
                },
                {
                    "n": "K",
                    "v": "K"
                },
                {
                    "n": "L",
                    "v": "L"
                },
                {
                    "n": "M",
                    "v": "M"
                },
                {
                    "n": "N",
                    "v": "N"
                },
                {
                    "n": "O",
                    "v": "O"
                },
                {
                    "n": "P",
                    "v": "P"
                },
                {
                    "n": "Q",
                    "v": "Q"
                },
                {
                    "n": "R",
                    "v": "R"
                },
                {
                    "n": "S",
                    "v": "S"
                },
                {
                    "n": "T",
                    "v": "T"
                },
                {
                    "n": "U",
                    "v": "U"
                },
                {
                    "n": "V",
                    "v": "V"
                },
                {
                    "n": "W",
                    "v": "W"
                },
                {
                    "n": "X",
                    "v": "X"
                },
                {
                    "n": "Y",
                    "v": "Y"
                },
                {
                    "n": "Z",
                    "v": "Z"
                },
                {
                    "n": "0-9",
                    "v": "0-9"
                }
            ]
        },
        {
            "key": "7",
            "name": "ÊåâÊó∂Èó¥",
            "value": [
                {
                    "n": "ÂÖ®ÈÉ®",
                    "v": "time"
                },
                {
                    "n": "Êåâ‰∫∫Ê∞î",
                    "v": "hits"
                },
                {
                    "n": "ÊåâËØÑÂàÜ",
                    "v": "score"
                }
            ]
        }
    ],
    "/show/id/3": [
        {
            "key": "1",
            "name": "ÊåâÁ±ªÂûã",
            "value": [
                {
                    "n": "ÂÖ®ÈÉ®",
                    "v": "3"
                },
                {
                    "n": "ÂÜÖÂú∞",
                    "v": "25"
                },
                {
                    "n": "Êó•Êº´",
                    "v": "26"
                },
                {
                    "n": "Ê¨ßÁæé",
                    "v": "27"
                },
                {
                    "n": "ÂÖ∂‰ªñ",
                    "v": "28"
                }
            ]
        },
        {
            "key": "2",
            "name": "ÊåâÂâßÊÉÖ",
            "value": [
                {
                    "n": "ÂÖ®ÈÉ®",
                    "v": "ÂÖ®ÈÉ®"
                },
                {
                    "n": "ÊÉÖÊÑü",
                    "v": "ÊÉÖÊÑü"
                },
                {
                    "n": "ÁßëÂπª",
                    "v": "ÁßëÂπª"
                },
                {
                    "n": "ÁÉ≠Ë°Ä",
                    "v": "ÁÉ≠Ë°Ä"
                },
                {
                    "n": "Êé®ÁêÜ",
                    "v": "Êé®ÁêÜ"
                },
                {
                    "n": "ÊêûÁ¨ë",
                    "v": "ÊêûÁ¨ë"
                },
                {
                    "n": "ÂÜíÈô©",
                    "v": "ÂÜíÈô©"
                },
                {
                    "n": "ËêùËéâ",
                    "v": "ËêùËéâ"
                },
                {
                    "n": "Ê†°Âõ≠",
                    "v": "Ê†°Âõ≠"
                },
                {
                    "n": "Âä®‰Ωú",
                    "v": "Âä®‰Ωú"
                },
                {
                    "n": "Êú∫Êàò",
                    "v": "Êú∫Êàò"
                },
                {
                    "n": "ËøêÂä®",
                    "v": "ËøêÂä®"
                },
                {
                    "n": "Êàò‰∫â",
                    "v": "Êàò‰∫â"
                },
                {
                    "n": "Â∞ëÂπ¥",
                    "v": "Â∞ëÂπ¥"
                },
                {
                    "n": "Â∞ëÂ•≥",
                    "v": "Â∞ëÂ•≥"
                },
                {
                    "n": "Á§æ‰ºö",
                    "v": "Á§æ‰ºö"
                },
                {
                    "n": "ÂéüÂàõ",
                    "v": "ÂéüÂàõ"
                },
                {
                    "n": "‰∫≤Â≠ê",
                    "v": "‰∫≤Â≠ê"
                },
                {
                    "n": "ÁõäÊô∫",
                    "v": "ÁõäÊô∫"
                },
                {
                    "n": "Âä±Âøó",
                    "v": "Âä±Âøó"
                },
                {
                    "n": "ÂÖ∂‰ªñ",
                    "v": "ÂÖ∂‰ªñ"
                }
            ]
        },
        {
            "key": "3",
            "name": "ÊåâÂú∞Âå∫",
            "value": [
                {
                    "n": "ÂÖ®ÈÉ®",
                    "v": "ÂÖ®ÈÉ®"
                },
                {
                    "n": "‰∏≠ÂõΩÂ§ßÈôÜ",
                    "v": "‰∏≠ÂõΩÂ§ßÈôÜ"
                },
                {
                    "n": "‰∏≠ÂõΩÈ¶ôÊ∏Ø",
                    "v": "‰∏≠ÂõΩÈ¶ôÊ∏Ø"
                },
                {
                    "n": "‰∏≠ÂõΩÂè∞Êπæ",
                    "v": "‰∏≠ÂõΩÂè∞Êπæ"
                },
                {
                    "n": "ÁæéÂõΩ",
                    "v": "ÁæéÂõΩ"
                },
                {
                    "n": "Èü©ÂõΩ",
                    "v": "Èü©ÂõΩ"
                },
                {
                    "n": "Êó•Êú¨",
                    "v": "Êó•Êú¨"
                },
                {
                    "n": "Ê≥∞ÂõΩ",
                    "v": "Ê≥∞ÂõΩ"
                },
                {
                    "n": "Êñ∞Âä†Âù°",
                    "v": "Êñ∞Âä†Âù°"
                },
                {
                    "n": "È©¨Êù•Ë•ø‰∫ö",
                    "v": "È©¨Êù•Ë•ø‰∫ö"
                },
                {
                    "n": "Âç∞Â∫¶",
                    "v": "Âç∞Â∫¶"
                },
                {
                    "n": "Ëã±ÂõΩ",
                    "v": "Ëã±ÂõΩ"
                },
                {
                    "n": "Ê≥ïÂõΩ",
                    "v": "Ê≥ïÂõΩ"
                },
                {
                    "n": "Âä†ÊãøÂ§ß",
                    "v": "Âä†ÊãøÂ§ß"
                },
                {
                    "n": "Ë•øÁè≠Áâô",
                    "v": "Ë•øÁè≠Áâô"
                },
                {
                    "n": "‰øÑÁΩóÊñØ",
                    "v": "‰øÑÁΩóÊñØ"
                },
                {
                    "n": "ÂÖ∂ÂÆÉ",
                    "v": "ÂÖ∂ÂÆÉ"
                }
            ]
        },
        {
            "key": "4",
            "name": "ÊåâÂπ¥‰ªΩ",
            "value": [
                {
                    "n": "ÂÖ®ÈÉ®",
                    "v": "ÂÖ®ÈÉ®"
                },
                {
                    "n": "2024",
                    "v": "2024"
                },
                {
                    "n": "2023",
                    "v": "2023"
                },
                {
                    "n": "2022",
                    "v": "2022"
                },
                {
                    "n": "2021",
                    "v": "2021"
                },
                {
                    "n": "2020",
                    "v": "2020"
                },
                {
                    "n": "2019",
                    "v": "2019"
                },
                {
                    "n": "2018",
                    "v": "2018"
                },
                {
                    "n": "2017",
                    "v": "2017"
                },
                {
                    "n": "2016",
                    "v": "2016"
                },
                {
                    "n": "2015",
                    "v": "2015"
                },
                {
                    "n": "2014",
                    "v": "2014"
                },
                {
                    "n": "2013",
                    "v": "2013"
                },
                {
                    "n": "2012",
                    "v": "2012"
                },
                {
                    "n": "2011",
                    "v": "2011"
                },
                {
                    "n": "2010",
                    "v": "2010"
                },
                {
                    "n": "2009",
                    "v": "2009"
                },
                {
                    "n": "2008",
                    "v": "2008"
                },
                {
                    "n": "2007",
                    "v": "2007"
                },
                {
                    "n": "2006",
                    "v": "2006"
                },
                {
                    "n": "2005",
                    "v": "2005"
                },
                {
                    "n": "2004",
                    "v": "2004"
                },
                {
                    "n": "2003",
                    "v": "2003"
                },
                {
                    "n": "2002",
                    "v": "2002"
                },
                {
                    "n": "2001",
                    "v": "2001"
                },
                {
                    "n": "2000",
                    "v": "2000"
                }
            ]
        },
        {
            "key": "5",
            "name": "ÊåâËØ≠Ë®Ä",
            "value": [
                {
                    "n": "ÂÖ®ÈÉ®",
                    "v": "ÂÖ®ÈÉ®"
                },
                {
                    "n": "Ê±âËØ≠ÊôÆÈÄöËØù",
                    "v": "Ê±âËØ≠ÊôÆÈÄöËØù"
                },
                {
                    "n": "Ëã±ËØ≠",
                    "v": "Ëã±ËØ≠"
                },
                {
                    "n": "Á≤§ËØ≠",
                    "v": "Á≤§ËØ≠"
                },
                {
                    "n": "ÈóΩÂçóËØ≠",
                    "v": "ÈóΩÂçóËØ≠"
                },
                {
                    "n": "Èü©ËØ≠",
                    "v": "Èü©ËØ≠"
                },
                {
                    "n": "Êó•ËØ≠",
                    "v": "Êó•ËØ≠"
                },
                {
                    "n": "Ê≥ïËØ≠",
                    "v": "Ê≥ïËØ≠"
                },
                {
                    "n": "Âæ∑ËØ≠",
                    "v": "Âæ∑ËØ≠"
                },
                {
                    "n": "ÂÖ∂ÂÆÉ",
                    "v": "ÂÖ∂ÂÆÉ"
                }
            ]
        },
        {
            "key": "6",
            "name": "ÊåâÂ≠óÊØç",
            "value": [
                {
                    "n": "ÂÖ®ÈÉ®",
                    "v": "ÂÖ®ÈÉ®"
                },
                {
                    "n": "A",
                    "v": "A"
                },
                {
                    "n": "B",
                    "v": "B"
                },
                {
                    "n": "C",
                    "v": "C"
                },
                {
                    "n": "D",
                    "v": "D"
                },
                {
                    "n": "E",
                    "v": "E"
                },
                {
                    "n": "F",
                    "v": "F"
                },
                {
                    "n": "G",
                    "v": "G"
                },
                {
                    "n": "H",
                    "v": "H"
                },
                {
                    "n": "I",
                    "v": "I"
                },
                {
                    "n": "J",
                    "v": "J"
                },
                {
                    "n": "K",
                    "v": "K"
                },
                {
                    "n": "L",
                    "v": "L"
                },
                {
                    "n": "M",
                    "v": "M"
                },
                {
                    "n": "N",
                    "v": "N"
                },
                {
                    "n": "O",
                    "v": "O"
                },
                {
                    "n": "P",
                    "v": "P"
                },
                {
                    "n": "Q",
                    "v": "Q"
                },
                {
                    "n": "R",
                    "v": "R"
                },
                {
                    "n": "S",
                    "v": "S"
                },
                {
                    "n": "T",
                    "v": "T"
                },
                {
                    "n": "U",
                    "v": "U"
                },
                {
                    "n": "V",
                    "v": "V"
                },
                {
                    "n": "W",
                    "v": "W"
                },
                {
                    "n": "X",
                    "v": "X"
                },
                {
                    "n": "Y",
                    "v": "Y"
                },
                {
                    "n": "Z",
                    "v": "Z"
                },
                {
                    "n": "0-9",
                    "v": "0-9"
                }
            ]
        },
        {
            "key": "7",
            "name": "ÊåâÊó∂Èó¥",
            "value": [
                {
                    "n": "ÂÖ®ÈÉ®",
                    "v": "time"
                },
                {
                    "n": "Êåâ‰∫∫Ê∞î",
                    "v": "hits"
                },
                {
                    "n": "ÊåâËØÑÂàÜ",
                    "v": "score"
                }
            ]
        }
    ],
    "/show/id/4": [
        {
            "key": "1",
            "name": "ÊåâÁ±ªÂûã",
            "value": [
                {
                    "n": "ÂÖ®ÈÉ®",
                    "v": "4"
                },
                {
                    "n": "ÂÜÖÂú∞",
                    "v": "29"
                }
            ]
        },
        {
            "key": "2",
            "name": "ÊåâÂâßÊÉÖ",
            "value": [
                {
                    "n": "ÂÖ®ÈÉ®",
                    "v": "ÂÖ®ÈÉ®"
                },
                {
                    "n": "ÁàΩÊñá",
                    "v": "ÁàΩÊñá"
                }
            ]
        },
        {
            "key": "3",
            "name": "ÊåâÂú∞Âå∫",
            "value": [
                {
                    "n": "ÂÖ®ÈÉ®",
                    "v": "ÂÖ®ÈÉ®"
                },
                {
                    "n": "ÂÜÖÂú∞",
                    "v": "ÂÜÖÂú∞"
                }
            ]
        },
        {
            "key": "4",
            "name": "ÊåâÂπ¥‰ªΩ",
            "value": [
                {
                    "n": "ÂÖ®ÈÉ®",
                    "v": "ÂÖ®ÈÉ®"
                },
                {
                    "n": "2024",
                    "v": "2024"
                },
                {
                    "n": "2023",
                    "v": "2023"
                },
                {
                    "n": "2022",
                    "v": "2022"
                },
                {
                    "n": "2021",
                    "v": "2021"
                },
                {
                    "n": "2020",
                    "v": "2020"
                },
                {
                    "n": "2019",
                    "v": "2019"
                },
                {
                    "n": "2018",
                    "v": "2018"
                },
                {
                    "n": "2017",
                    "v": "2017"
                },
                {
                    "n": "2016",
                    "v": "2016"
                },
                {
                    "n": "2015",
                    "v": "2015"
                },
                {
                    "n": "2014",
                    "v": "2014"
                },
                {
                    "n": "2013",
                    "v": "2013"
                },
                {
                    "n": "2012",
                    "v": "2012"
                },
                {
                    "n": "2011",
                    "v": "2011"
                },
                {
                    "n": "2010",
                    "v": "2010"
                },
                {
                    "n": "2009",
                    "v": "2009"
                },
                {
                    "n": "2008",
                    "v": "2008"
                },
                {
                    "n": "2007",
                    "v": "2007"
                },
                {
                    "n": "2006",
                    "v": "2006"
                },
                {
                    "n": "2005",
                    "v": "2005"
                },
                {
                    "n": "2004",
                    "v": "2004"
                },
                {
                    "n": "2003",
                    "v": "2003"
                },
                {
                    "n": "2002",
                    "v": "2002"
                },
                {
                    "n": "2001",
                    "v": "2001"
                },
                {
                    "n": "2000",
                    "v": "2000"
                }
            ]
        },
        {
            "key": "5",
            "name": "ÊåâËØ≠Ë®Ä",
            "value": [
                {
                    "n": "ÂÖ®ÈÉ®",
                    "v": "ÂÖ®ÈÉ®"
                },
                {
                    "n": "Ê±âËØ≠ÊôÆÈÄöËØù",
                    "v": "Ê±âËØ≠ÊôÆÈÄöËØù"
                },
                {
                    "n": "Ëã±ËØ≠",
                    "v": "Ëã±ËØ≠"
                },
                {
                    "n": "Á≤§ËØ≠",
                    "v": "Á≤§ËØ≠"
                },
                {
                    "n": "ÈóΩÂçóËØ≠",
                    "v": "ÈóΩÂçóËØ≠"
                },
                {
                    "n": "Èü©ËØ≠",
                    "v": "Èü©ËØ≠"
                },
                {
                    "n": "Êó•ËØ≠",
                    "v": "Êó•ËØ≠"
                },
                {
                    "n": "Ê≥ïËØ≠",
                    "v": "Ê≥ïËØ≠"
                },
                {
                    "n": "Âæ∑ËØ≠",
                    "v": "Âæ∑ËØ≠"
                },
                {
                    "n": "ÂÖ∂ÂÆÉ",
                    "v": "ÂÖ∂ÂÆÉ"
                }
            ]
        },
        {
            "key": "6",
            "name": "ÊåâÂ≠óÊØç",
            "value": [
                {
                    "n": "ÂÖ®ÈÉ®",
                    "v": "ÂÖ®ÈÉ®"
                },
                {
                    "n": "A",
                    "v": "A"
                },
                {
                    "n": "B",
                    "v": "B"
                },
                {
                    "n": "C",
                    "v": "C"
                },
                {
                    "n": "D",
                    "v": "D"
                },
                {
                    "n": "E",
                    "v": "E"
                },
                {
                    "n": "F",
                    "v": "F"
                },
                {
                    "n": "G",
                    "v": "G"
                },
                {
                    "n": "H",
                    "v": "H"
                },
                {
                    "n": "I",
                    "v": "I"
                },
                {
                    "n": "J",
                    "v": "J"
                },
                {
                    "n": "K",
                    "v": "K"
                },
                {
                    "n": "L",
                    "v": "L"
                },
                {
                    "n": "M",
                    "v": "M"
                },
                {
                    "n": "N",
                    "v": "N"
                },
                {
                    "n": "O",
                    "v": "O"
                },
                {
                    "n": "P",
                    "v": "P"
                },
                {
                    "n": "Q",
                    "v": "Q"
                },
                {
                    "n": "R",
                    "v": "R"
                },
                {
                    "n": "S",
                    "v": "S"
                },
                {
                    "n": "T",
                    "v": "T"
                },
                {
                    "n": "U",
                    "v": "U"
                },
                {
                    "n": "V",
                    "v": "V"
                },
                {
                    "n": "W",
                    "v": "W"
                },
                {
                    "n": "X",
                    "v": "X"
                },
                {
                    "n": "Y",
                    "v": "Y"
                },
                {
                    "n": "Z",
                    "v": "Z"
                },
                {
                    "n": "0-9",
                    "v": "0-9"
                }
            ]
        },
        {
            "key": "7",
            "name": "ÊåâÊó∂Èó¥",
            "value": [
                {
                    "n": "ÂÖ®ÈÉ®",
                    "v": "time"
                },
                {
                    "n": "Êåâ‰∫∫Ê∞î",
                    "v": "hits"
                },
                {
                    "n": "ÊåâËØÑÂàÜ",
                    "v": "score"
                }
            ]
        }
    ]
}
        if (!this.catOpenStatus) {
            this.classes.shift()
        }
    }

    getParams(params,value){
        let x = value ??  "ÂÖ®ÈÉ®"
        if (x === "ÂÖ®ÈÉ®" || x === undefined){
            return  ""
        }else{
            return params + value
        }

    }

    async setCategory(tid, pg, filter, extend) {
        let cateUrl = ""
        if (tid !== "/") {
            let typeName = this.getParams("/id/",extend["1"])
            if (_.isEmpty(typeName))  {
                typeName  = "/id/" + tid.split("/").slice(-1)[0]
            }

            let plot = this.getParams("/class/",extend["2"])
            let area = this.getParams("/area/" , extend["3"])
            let year = this.getParams("/year/" , extend["4"])
            let language = this.getParams("/lang/ ", extend["5"])
            let letter = this.getParams( "/letter/ ",extend["6"])
            let time = this.getParams("/by/",extend["7"])
            cateUrl = this.siteUrl + `/show${area}${time}${plot}${typeName}${language}${letter}${year}/page/${pg.toString()}.html`
        } else {
            cateUrl = this.siteUrl
        }
        await this.jadeLog.info(`Á±ªÂà´URL‰∏∫:${cateUrl}`)
        this.limit = 36
        let html = await this.fetch(cateUrl, null, this.getHeader())
        if (html != null) {
            let $ = load(html)
            this.vodList = await this.parseVodShortListFromDoc($)
        }
    }

    async setDetail(id) {
        let detailUrl = this.siteUrl + id
        let html = await this.fetch(detailUrl, null, this.getHeader())
        if (html != null) {
            let $ = load(html)
            this.vodDetail = await this.parseVodDetailFromDoc($)
        }
    }

    async setPlay(flag, id, flags) {
        let html = await this.fetch(id, null, this.getHeader())
        if (html !== null) {
            let matcher = Utils.getStrByRegex(/player_aaaa=(.*?)<\/script>/, html)
            let player = JSON.parse(matcher);
            try {
                this.playUrl = decodeURIComponent(Crypto.enc.Utf8.stringify(Crypto.enc.Base64.parse(player["url"])))
                this.header = this.getHeader()
            } catch (e) {
                await this.jadeLog.error(e)
            }
        }
    }
}

let spider = new JiuJiuLiuSpider()

async function init(cfg) {
    await spider.init(cfg)
}

async function home(filter) {
    return await spider.home(filter)
}

async function homeVod() {
    return await spider.homeVod()
}

async function category(tid, pg, filter, extend) {
    return await spider.category(tid, pg, filter, extend)
}

async function detail(id) {
    return await spider.detail(id)
}

async function play(flag, id, flags) {
    return await spider.play(flag, id, flags)
}

async function search(wd, quick) {
    return await spider.search(wd, quick)
}

export function __jsEvalReturn() {
    return {
        init: init,
        home: home,
        homeVod: homeVod,
        category: category,
        detail: detail,
        play: play,
        search: search,
    };
}